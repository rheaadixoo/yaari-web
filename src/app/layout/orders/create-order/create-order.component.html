<!-- Breadcrumb section -->

<div class="jumbotron jumbotron-fluid breadcrumb_jumbo_custom">
    <div class="container text-center">
        <h1 class="text-dark font-500 mb-0">
            My Cart
        </h1>
        <nav aria-label="breadcrumb" class="d-flex justify-content-center">
            <ol class="breadcrumb mb-0 bg-transparent">
                <li class="breadcrumb-item">
                    <a href="#" class="text-gray font-400 text-font-18">Home</a>
                </li>
                <li class="breadcrumb-item active text-gray font-400 text-font-18" aria-current="page">
                    My Cart
                </li>
            </ol>
        </nav>
    </div>
</div>

<!-- Breadcrumb End -->

<!-- Item's section -->

<section class="my_cart_order_list_sec pt-4">
    <div class="container-fluid">
        <div class="row mx-0 px-5">
            <div class="col-lg-9">
                <div class="row mx-0">
                    <div class="col-lg-12 px-0 mb-4">
                        <h5 class="order_sum_heading_plc_ordr_pg mb-0 text-light font-400 w-100 d-inline-block p-4">
                            Delivery Address
                        </h5>
                        <ng-container *ngFor="let item of userAddress">
                            <div class="delivery_addrs_crd_sec mt-4 mb-3">
                                <div class="form-check border-bottom position-relative py-4">
                                    <input class="form-check-input mb-0" type="radio" name="exampleRadios"
                                        [id]="'exampleRadios'+item.id" value="option1" checked style="width: 18px; height: 18px;">
                                    <label class="form-check-label ml-2" for="exampleRadios1">
                                        <span class="font-500 font-18 d-block">{{item.name}}</span>
                                        <span class="font-400 font-16 text-dark d-block mt-2">
                                            {{item.address}}
                                        </span>
                                    </label>
                                    <a href="javascript:void(0)"
                                        class="text-dark font-16 font-500 edit_btn_of_del_adrs_plc_ordr"
                                        (click)="editAddress(item)">
                                        EDIT
                                    </a>
                                </div>
                            </div>
                        </ng-container>
                        <a href="javascript:void(0)" (click)="addAddressModal()"
                            class="add_del_adrs_btn_sec d-flex w-100 p-4 text-dark font-18 font-500 text-decoration-none">
                            <span class="material-icons mr-2">add</span>
                            Add New Delivery Address
                        </a>
                    </div>
                    <div class="col-lg-12 px-0">
                        <h5 class="order_sum_heading_plc_ordr_pg mb-0 text-light font-400 w-100 d-inline-block p-4">
                            Order Summary
                        </h5>
                        <ng-container *ngFor="let item of cartDetails">
                            <div class="my_order_crd_main position-relative my-4">
                                <div class="best_sellers_prdct_on_det_pg_list">
                                    <div class="d-flex float-left pl-0">
                                        <div class="best_sellers_prdct_on_det_pg_list_img order_img_my_crt">
                                            <img class="img-fluid" [src]="item.product.thumbImages">
                                        </div>
                                    </div>
                                    <div class="d-flex w-50 float-left pl-3 order_bsc_det_my_crt">
                                        <div class="prdct_sec_list_crd_mn_content p-0 w-100 d-inline-block">
                                            <h5 class="prdct_list_title mb-3 w-75 font-500 text-dark">
                                                {{item.product.name}}
                                            </h5>
                                            <p class="prdct_list_sub_title text-gray mb-2 w-75">
                                                {{item.product.description}}
                                            </p>
                                            <div class="prdct_list_price_det w-100 mb-2 d-inline-block">
                                                <span class="badge_on_order float-left px-2 py-1 mr-2">
                                                    Free Delivery
                                                </span>
                                            </div>
                                            <div class="w-100 mb-3 d-flex align-items-center">
                                                <span class="badge_on_order text-gray float-left px-2 py-1 mr-2">
                                                    Size:
                                                </span>
                                                <span class="float-left material_prdct_spn font-500 px-4 py-1 mr-2">
                                                    S
                                                </span>
                                                <span class="badge_on_order text-gray float-left px-2 py-1 mr-2">
                                                    Qty:
                                                </span>
                                                <span class="material_prdct_spn float-left font-500 px-4 py-1 mr-2">
                                                    {{item.quantity}}
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div
                                        class="d-inline-block prdct_list_price_det text-right w-25 float-right pl-3 justify-content-end order_prc_othr_btn_my_crt">
                                        <span class="font-600 font-20 text-dark price_fnl mr-1 mb-5">
                                            ₹{{item.product.sellingPrice}}
                                        </span>
                                        <span class="font-500 text-gray price_cross position-relative font-18 mr-1">
                                            ₹{{item.product.price}}
                                        </span>
                                        <span class="font-500 text-success offer_dis font-18 mr-1">
                                            50% off
                                        </span>
                                        <span class="font-400 text-gray font-16 mr-1 mt-3 d-block">
                                            Delivery by Sun Aug 8
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="price_det_on_my_crt_crd my-3">
                    <h5 class="p-3 border-bottom text-gray font-400">
                        Price Details
                    </h5>
                    <ul class="view_crt_pg_totle_crd p-3">
                        <li class="d-flex justify-content-between align-items-center border-0 px-0 py-2">
                            <span class="text-dark font-400 font-16">Price ({{totalQuantity}} item)</span>
                            <span class="text-dark">₹{{totalPrice}}</span>
                        </li>
                        <li class="d-flex justify-content-between align-items-center px-0 py-2">
                            <span class="text-dark font-400 font-16">Discount</span>
                            <span class="text-dark">-₹{{totalDiscount}}</span>
                        </li>
                        <li class="d-flex justify-content-between align-items-center px-0 py-2">
                            <span class="text-dark font-400 font-16">Delivery Charges</span>
                            <span class="text-dark">₹0</span>
                        </li>
                        <li class="d-flex justify-content-between align-items-center px-0 mb-0 mt-3 pt-4"
                            style="border-top: 1px dashed #A4A4A4">
                            <div>
                                <span class="font-16 font-600">Total Amount</span>
                            </div>
                            <span>
                                <span class="font-16 font-600 text-dark total_after_wallet">₹{{totalAmount}}</span>
                            </span>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-lg-12 mt-4 mb-5">
                <div class="btm_btn_to_contine_frm_crt w-100 p-4">
                    <h5 class="font-600 text-dark float-left py-3 mb-0">
                        Order confirmation email will be sent to
                        <span class="font-600">{{userDetails.email}}</span>
                    </h5>
                    <a href="javascript:void(0)" class="float-right px-5 py-3">
                        <button class="btn-theme" [disabled]="userAddress.length == 0"
                        (click)="createOrder()">
                            Pay Now
                        </button>
                        <button class="btn-theme" [disabled]="userAddress.length == 0"
                        (click)="createPayLaterOrder()" style="margin-left: 10px;">
                            Pay Later
                        </button>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Item's section End -->

<ng-template #addAddress>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">{{formType}}</h4>
        <button type="button" class="close" aria-label="Close" (click)="closeModal()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <form [formGroup]="addressForm" (submit)="addUserAddress()">
        <div class="modal-body">
            <div class="form-group">
                <label for="name">Name</label>
                <div class="input-group">
                    <input id="name" class="form-control" placeholder="Add Name" name="name"
                        formControlName="name"
                        (keyup)="validateFormField('name')">
                </div>
            </div>
            <div class="form-group">
                <label for="address">Address</label>
                <div class="input-group">
                    <input id="address" class="form-control" placeholder="Add Address" name="address"
                        formControlName="address"
                        (keyup)="validateFormField('address')">
                </div>
            </div>
            <div class="form-group">
                <label for="city">City</label>
                <div class="input-group">
                    <input id="city" class="form-control" placeholder="Add City" name="city" formControlName="city"
                    (keyup)="validateFormField('city')">
                </div>
            </div>
            <div class="form-group">
                <label for="pincode">Add Pincode</label>
                <div class="input-group">
                    <input id="pincode" class="form-control" placeholder="Add Pincode" name="pincode"
                        formControlName="pincode" type="number" [min]="0"
                        (keyup)="validateFormField('pincode')">
                </div>
            </div>
            <div class="form-group">
                <label for="state">State</label>
                <div class="input-group">
                    <input id="state" class="form-control" placeholder="Add State" name="state" formControlName="state"
                    (keyup)="validateFormField('state')">
                </div>
            </div>
            <div class="form-group">
                <label for="country">Country</label>
                <div class="input-group">
                    <input id="country" class="form-control" placeholder="Add Country" name="country" disabled
                        formControlName="country">
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-outline-dark" [disabled]="addressForm.invalid">Save</button>
        </div>
    </form>
</ng-template>